!function(e){e.fn.myNearestColour=function(t){var o=e.extend({paletteLength:7,colours:["#FF0000","#0000FF","#008000","#FFFF00"]},t);return this.each(function(t){function r(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function s(e,t,o){return"#"+r(e)+r(t)+r(o)}imgColors=[],nearestImgColors=[];for(var n=nearestColor.from(o.colours),l=e(this),a=new ColorThief,g=a.getPalette(l[0],o.paletteLength,5),i=0;i<g.length;i++){var C=s(g[i][0],g[i][1],g[i][2]);imgColors.push(C)}for(var u=0;u<imgColors.length;u++){var m=n(imgColors[u]);nearestImgColors.push(m)}var c,h={},f=0;for(var F in nearestImgColors)h[nearestImgColors[F]]=(h[nearestImgColors[F]]||0)+1,h[nearestImgColors[F]]>f&&(f=h[nearestImgColors[F]],c=nearestImgColors[F]);e.isFunction(o.getPalette)&&o.getPalette.call(this,imgColors),e.isFunction(o.getNearestPalette)&&o.getNearestPalette.call(this,nearestImgColors),e.isFunction(o.getNearestColour)&&o.getNearestColour.call(this,c),imgColors=[],nearestImgColors=[]})}}(jQuery);